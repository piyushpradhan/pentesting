# Stack Overflow
## Stack during a function call 
```Markdown
                       +   Previous function  +
                       |     Stack frame      +
                       |                      |
                       +----------------------+ 
                       |Space for return value|
                       +----------------------+
                       |Arguments for function|
                       +----------------------+
                       |    return address    |
                       +----------------------+
                       |     saved $ebp       |
                       +----------------------+
                       |                      | <--+  padding
                       +------------+---------+
                       |         |4 |         | <--+  buffer stored
                       |         |3 |         |       here
                       |         |2 | ^       |
                       |         |1 | |       |
                       |      ch |0 | |       |
                       +------------+-+-------+
                       |                      |
                       |     unused space     |
                       +                      +
```
- When Function A calls function B these are the steps that are followed: 
1. some space is reserved for the return values of function B 
2. arguments to be provided to function B are pushed
3. next, the return address of function B is pushed to the stack, which usually is right after the instruction pointer ($eip)
4. $ebp is saved and updated to the stack pointer 

#### Compiling C files to test for buffer overflow
- Disable ASLR protection beforehand or it will keep on assigning random values 
`echo "0" | sudo dd of=/proc/sys/kernel/randomize_va_space`
- Compilation command:
`gcc -m32 -g -fno-stack-protector exploit_me_1.c -o exploit_me_1`

- Arguments used:
	-m32: instrcuting the compiler to build 32 bit Binary
	-g: This allow C code to visible in gdb
	-fno-stack-protector: Disbale stack protection by **canary**

