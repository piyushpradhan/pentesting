# Symfonos-4

Author: Vulnhub
Difficulty: 2
Key takeaway: always check for certain log files if you get LFI /var/log/auth.log /var/log/ftp.log
Tags: LFI, log file poisoning, ssh, ssh log poisoning
Type: Linux

# Enumeration

- portscan

```bash
PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 7.9p1 Debian 10 (protocol 2.0)
| ssh-hostkey: 
|   2048 f9:c1:73:95:a4:17:df:f6:ed:5c:8e:8a:c8:05:f9:8f (RSA)
|   256 be:c1:fd:f1:33:64:39:9a:68:35:64:f9:bd:27:ec:01 (ECDSA)
|_  256 66:f7:6a:e8:ed:d5:1d:2d:36:32:64:39:38:4f:9c:8a (ED25519)
80/tcp open  http    Apache httpd 2.4.38 ((Debian))
|_http-server-header: Apache/2.4.38 (Debian)
|_http-title: Site doesn't have a title (text/html).
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
```

- dir scan

```bash
/index.html           (Status: 200) [Size: 201]
/css                  (Status: 301) [Size: 302] [--> http://symfonos/css/]
/javascript           (Status: 301) [Size: 309] [--> http://symfonos/javascript/]
/js                   (Status: 301) [Size: 301] [--> http://symfonos/js/]        
/manual               (Status: 301) [Size: 305] [--> http://symfonos/manual/]    
/robots.txt           (Status: 403) [Size: 293]                                  
/sea.php              (Status: 302) [Size: 0] [--> atlantis.php]                 
/atlantis.php         (Status: 200) [Size: 1718]                                 
/server-status        (Status: 403) [Size: 296]
```

- /atlantis.php → login page
- simple sql injection

```bash
username -> ' or 1=1;-- 
password -> anything
```

- redirected to /sea.php

# Initial Access

- sea.php is vulnerable to LFI
- /sea.php?file=hades → reads hades.log, basically it reads all log files
- 

# Privilege Escalation

# Notes

-