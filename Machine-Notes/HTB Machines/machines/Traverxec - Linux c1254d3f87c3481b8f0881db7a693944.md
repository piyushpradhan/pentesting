# Traverxec - Linux

Difficulty: 2

## Enumeration

nmap scan on open ports 

![Untitled](Untitled.png)

## Initial access

http server is running on `nostromo 1.9.6`

Found an RCE exploit for nostromo

![Untitled](Untitled%201.png)

used a bash reverse shell script to gain initial access as `www-data`

![Untitled](Untitled%202.png)

![Untitled](Untitled%203.png)

Found something interesting 

![Untitled](Untitled%204.png)

Found password hash for `david`

![Untitled](Untitled%205.png)

**This is not david's password on the machine but the password of the server admin**

That is confirmed by looking at the conf files 

![Untitled](Untitled%206.png)

## Privilege Escalation

navigated to [http://10.10.10.165/~david/protected-file-area](http://10.10.10.165/~david/protected-file-area) by using credentials I had obtained earlier `david:Nowonly4me`

![Untitled](Untitled%207.png)

Found ssh key inside the archive

decrypted david's passphrase from id_rsa file using john 

![Untitled](Untitled%208.png)

Easily exploited the env variables to gain root 

![Untitled](Untitled%209.png)

finding an exploit for `journalctl` in GTFO bins

![Untitled](Untitled%2010.png)

> The trick here is that journalctrl will output to stdout if it can fit onto the current page, but into less if it can’t. Since I’m running it with -n 5, that means only five lines come out, so I need to shrink my terminal to smaller than 5 lines, and I’ll get sent into less, still as root.
>