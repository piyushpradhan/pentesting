# Node/worker node 
- simple server / physical virtual machine

# Pod
- smallest unit of K8s
- abstraction over container
- layer on top of container
- K8 wants to abstract the container technology and replace it if required and also so that we don't have to work with the underlying container technology
- Pod is usually meant to run one container in it along with some helper containers helping the main container

## How pods communicate with each other
- Each pods get an internal IP address and they use that to communicate with each other
- Pod components can die very easily and if they die then a new one gets created in its place and it is assigned a new IP address
  - This creates a major problem of having to change the IP address and reconfiguring the networking every time a pod dies/crashes. 
  - To solve this issue we have **services** in K8s
  
# Service
- It is basically a static or permanent IP address that can be attached to a pod.
- Lifecycle of service and pod are not connected, which means that even if the pod dies the IP address of the service will still be there.
### External service
- Opens communications to external services
# Ingress 
Acts like a DNS server the request first goes to the ingress which then forwards it to the service.
- Example: http://124.45.18.12:800 is not exactly something that is convenient to use whenc compared with http://testing-service.app. Ingress resolves these domain names into the IP address provided by the service.
# Config map
- Configuration settings of any container generally stays in the build script of that container, so if any configuration has to change then the build script has to be modified and the container has to be rebuilt, pushed to repo and pull it to the pod.
- Conifg map contains external configuration of applications. Now, if any configuration has to be changed we can simply change the config map. 
# Secret
- Sensitive information like credentials, certificates can't be stored in Config Map.
- Information is stored in base64 encoded format

# Environment Variables 
- Pods can use the data from Config Map and Secret by using Environment Variables or as a properties file
# Volumes
- if the database gets restarted or crashed then the data is gone
- Volumes basically attaches physical storage to the pod, it could be storage on a local machine inside the cluster or it could be a remote resource outside the cluster, maybe on the cloud.


> Kubernets doesn't explicitly doesn't manage data persistence
# Replica
- to prevent downtimes we replicate everything we have a copy of everything running simulataneously using the same services.
- The service can also act as load balancer, it forwards the requests to whichever pod is less busy 
- Define blueprints for pods and specify how many replicas you need, these blueprints are called **deployments**
- Database can't be replicated because it has data, so if we replicate it so we have to manage data incosistencies. This is done by **Stateful sets**
> Deployment - Stateless apps
> Stateful sets - Databases/Stateful sets

- Deploying stateful sets is a bit inconvenient
- Common practice is to DB hosted outside of K8 clusters, so it's easy to scale the cluster.