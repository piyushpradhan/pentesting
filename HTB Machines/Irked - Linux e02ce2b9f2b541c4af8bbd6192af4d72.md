# Irked - Linux

## Enumeration

scanning for open ports 

![Untitled](Irked%20-%20Linux%20e02ce2b9f2b541c4af8bbd6192af4d72/Untitled.png)

Running a detailed scan on open ports

![Untitled](Irked%20-%20Linux%20e02ce2b9f2b541c4af8bbd6192af4d72/Untitled%201.png)

running a scan for UDP ports 

![Untitled](Irked%20-%20Linux%20e02ce2b9f2b541c4af8bbd6192af4d72/Untitled%202.png)

**IRC servers run on ports 6000-7000**

![Untitled](Irked%20-%20Linux%20e02ce2b9f2b541c4af8bbd6192af4d72/Untitled%203.png)

## Initial access

found an exploit for backdoor rce for UnrealIRCd 

[GitHub - Ranger11Danger/UnrealIRCd-3.2.8.1-Backdoor: My backdoor script for a vulnerable version of UnrealIRCd](https://github.com/Ranger11Danger/UnrealIRCd-3.2.8.1-Backdoor)

Used it to get a reverse shell

![Untitled](Irked%20-%20Linux%20e02ce2b9f2b541c4af8bbd6192af4d72/Untitled%204.png)

## Privilege Escalation

Found a backup file for user `djmarkov`

![Untitled](Irked%20-%20Linux%20e02ce2b9f2b541c4af8bbd6192af4d72/Untitled%205.png)

Read about steganography

[https://0xrick.github.io/lists/stego](https://0xrick.github.io/lists/stego)

In this box the image on `10.10.10.117` had a hidden text file with password

Found a hidden file

![Untitled](Irked%20-%20Linux%20e02ce2b9f2b541c4af8bbd6192af4d72/Untitled%206.png)

![Untitled](Irked%20-%20Linux%20e02ce2b9f2b541c4af8bbd6192af4d72/Untitled%207.png)

Found the password to `djmardov` in pass.txt file

the text in .backup file was passphrase to extract pass.txt from the image present on the website 

**Logged in as djmardov**

Found a vulnerable SUID/SGID executable 

![Untitled](Irked%20-%20Linux%20e02ce2b9f2b541c4af8bbd6192af4d72/Untitled%208.png)

That didn't work

Tried exploiting another SUID executable, `viewuser` which executes a /tmp/listusers script, so I put my own malicious script in /tmp/listusers to run /bin/sh as root

root shell obtained!